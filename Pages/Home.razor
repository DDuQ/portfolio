@page "/"
@using System.Diagnostics.CodeAnalysis

<PageTitle>Home | My Portfolio</PageTitle>

<!-- HERO -->
<section class="bg-slate-900 text-slate-100">
    <div class="max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-10 items-center">
            <!-- Left: intro -->
            <div>
                <p class="text-indigo-400 text-sm font-semibold tracking-wide mb-2">home</p>
                <h1 class="text-5xl md:text-6xl font-extrabold leading-tight">
                    hi there. <span class="inline-block">ðŸ‘‹</span>
                </h1>
                <p class="mt-4 text-lg text-slate-300">
                    Backend by initiative, fullâ€‘stack by passion. I build and ship with .NET and friends.
                </p>

                <div class="mt-6 flex flex-wrap gap-3">
                    <a href="/contact" class="inline-flex items-center px-5 py-2 rounded-md bg-indigo-600 text-white font-medium hover:bg-indigo-500">Get in touch</a>
                    <a href="/projects" class="inline-flex items-center px-5 py-2 rounded-md border border-slate-600 text-slate-100 hover:bg-slate-800">Projects</a>
                    <a href="/about" class="inline-flex items-center px-5 py-2 rounded-md border border-slate-600 text-slate-100 hover:bg-slate-800">About</a>
                </div>
            </div>

            <!-- Right: photo stack -->
            <div class="relative justify-self-center">
                <div class="absolute -rotate-6 -top-4 -left-6 w-56 h-72 rounded-2xl overflow-hidden shadow-lg ring-1 ring-slate-700/60 bg-slate-800"></div>
                <img class="relative w-56 h-72 rounded-2xl object-cover object-center overflow-hidden shadow-xl ring-1 ring-slate-700/60"
                     src="logos/TeamInternational.jpg" alt="profile" />
            </div>
        </div>
    </div>
    </section>

<!-- TIMELINE SECTION -->
<section class="bg-slate-950 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-5xl mx-auto">
        <!-- Tabs -->
        <div class="mb-4 flex rounded-xl border border-slate-700/40 bg-slate-900/60 p-1">
            <button class="w-1/2 rounded-lg px-4 py-2 text-sm font-semibold transition @(activeTab == "Work" ? "bg-slate-800 text-white" : "text-slate-300 hover:text-white")"
                    @onclick='() => activeTab = "Work"'>Work</button>
            <button class="w-1/2 rounded-lg px-4 py-2 text-sm font-semibold transition @(activeTab == "Education" ? "bg-slate-800 text-white" : "text-slate-300 hover:text-white")"
                    @onclick='() => activeTab = "Education"'>Education</button>
        </div>

        <!-- Panel -->
        <div class="rounded-2xl border border-slate-700/40 bg-slate-900/60 p-6">
            <div class="relative">
                <!-- Vertical line -->
                <div class="absolute left-6 top-0 h-full w-px bg-slate-600/40"></div>

                <div class="space-y-10">
                    @foreach (var item in Items)
                    {
                        <div class="relative flex gap-4">
                            <!-- Logo node -->
                            <div class="relative z-10 shrink-0">
                                <div class="h-10 w-10 overflow-hidden rounded-full ring-2 ring-slate-700/60 bg-white">
                                    @if (!string.IsNullOrWhiteSpace(item.LogoUrl))
                                    {
                                        <img class="block h-full w-full object-cover object-center" src="@item.LogoUrl" alt="@item.Company logo" />
                                    }
                                </div>
                            </div>

                            <!-- Card -->
                            <div class="flex-1 rounded-xl border border-slate-700/40 bg-slate-800/60 p-5">
                                <p class="text-xs font-medium text-slate-300">@item.DateRange</p>
                                <h3 class="mt-1 text-lg font-semibold text-white">@item.Company</h3>
                                @if (!string.IsNullOrWhiteSpace(item.JobRole))
                                {
                                    <p class="text-sm text-slate-300">@item.JobRole</p>
                                }

                                @if (item.Bullets?.Any() == true)
                                {
                                    <ul class="mt-3 list-disc space-y-1 pl-5 text-slate-200">
                                        @foreach (var b in item.Bullets)
                                        {
                                            <li>@b</li>
                                        }
                                    </ul>
                                }

                                @if (item.Badges?.Any() == true)
                                {
                                    <div class="mt-4 flex flex-wrap gap-2">
                                        @foreach (var tag in item.Badges)
                                        {
                                            <span class="inline-flex items-center rounded-full bg-slate-700 px-2.5 py-0.5 text-xs font-medium text-slate-200">
                                                @tag
                                            </span>
                                        }
                                    </div>
                                }
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</section>

@code {
    private string activeTab = "Work";

    private record TimelineItem(
        string DateRange,
        string Company,
        string? JobRole,
        IEnumerable<string>? Bullets,
        IEnumerable<string>? Badges = null,
        string? LogoUrl = null
    );

    private readonly List<TimelineItem> Work = new()
    {
        new TimelineItem("Aug 2022 â€“ Jul 2025", "Team International", "Software Engineer",
            new []
            {
                "Maintained legacy VB.NET systems and enhanced debugging workflows using NewRelic.",
                "Developed a ServiceNow script to auto-update incidents via scheduled jobs, which reduced AppSupport incidents by ~7%.",
                "Integrated logging through NewRelic API to improve traceability of desktop application errors, and also confirm performance degradation and locate root causes."
            },
            Array.Empty<string>(),
            "logos/TeamInternational.jpg"
        ),
        new TimelineItem("Dec 2021 â€“ Aug 2022", "SistecrÃ©dito", "Software Developer",
            new []
            {
                "Designed microservices with gRPC and Protocol Buffers.",
                "Followed Domain-Driven Design for clean architecture and separation of concerns.",
                "Structured C# projects using Microsoft conventions and SOLID principles."
            },
            Array.Empty<string>(),
            "logos/sistecredito.svg"
        ),
        new TimelineItem("May 2021 â€“ Dec 2021", "MAS Global Consulting", "Software Developer",
            new []
            {
                "Integrated BambooHR API to sync and manage employee data.",
                "Worked with Azure DevOps Boards and Git Repositories for project delivery."
            },
            Array.Empty<string>(),
            "logos/MASGlobal.png"
        ),
        new TimelineItem("Nov 2020 â€“ May 2021", "MAS Global Consulting", "Software Developer Intern",
            new []
            {
                "Analyzed and estimated user stories for payroll processing app.",
                "Practiced Scrum, Kanban, and SAFe to support agile workflows.",
                "Contributed to CI/CD pipelines and version control with Git."
            },
            Array.Empty<string>(),
            "logos/MASGlobal.png"
        )
    };

    private readonly List<TimelineItem> Education = new()
    {
        new TimelineItem("Feb. 2018 â€“ Aug. 2021", "Instituto TecnolÃ³gico Metropolitano",
            "Associateâ€™s degree in Information Systems",
            Array.Empty<string>(),
            Array.Empty<string>(),
            string.Empty)
    };

    private IEnumerable<TimelineItem> Items => activeTab == "Work" ? Work : Education;
}
